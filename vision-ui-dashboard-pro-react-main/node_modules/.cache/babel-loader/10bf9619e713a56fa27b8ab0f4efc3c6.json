{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryResponse = void 0;\n\nconst networkParams_1 = require(\"../networkParams\");\n\nconst query_1 = require(\"./query\");\n\nconst returnCode_1 = require(\"./returnCode\");\n\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nconst result_1 = require(\"./result\");\n\nclass QueryResponse {\n  constructor(init) {\n    this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n    this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n    this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n    this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n  }\n  /**\n   * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n   */\n\n\n  static fromHttpResponse(payload) {\n    let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n    let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n    let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n    let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n    let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n    return new QueryResponse({\n      returnData: returnData,\n      returnCode: new returnCode_1.ReturnCode(returnCode),\n      returnMessage: returnMessage,\n      gasUsed: gasUsed\n    });\n  }\n\n  getEndpointDefinition() {\n    return this.endpointDefinition;\n  }\n\n  getReturnCode() {\n    return this.returnCode;\n  }\n\n  getReturnMessage() {\n    return this.returnMessage;\n  }\n\n  unpackOutput() {\n    return result_1.Result.unpackOutput(this);\n  }\n\n  assertSuccess() {\n    result_1.Result.assertSuccess(this);\n  }\n\n  isSuccess() {\n    return this.returnCode.isSuccess();\n  }\n\n  setEndpointDefinition(endpointDefinition) {\n    this.endpointDefinition = endpointDefinition;\n  }\n\n  outputUntyped() {\n    this.assertSuccess();\n    let buffers = this.returnData.map(item => Buffer.from(item || \"\", \"base64\"));\n    return buffers;\n  }\n\n  outputTyped() {\n    return result_1.Result.outputTyped(this);\n  }\n  /**\n   * Converts the object to a pretty, plain JavaScript object.\n   */\n\n\n  toJSON() {\n    return {\n      success: this.isSuccess(),\n      returnData: this.returnData,\n      returnCode: this.returnCode,\n      returnMessage: this.returnMessage,\n      gasUsed: this.gasUsed.valueOf()\n    };\n  }\n\n}\n\nexports.QueryResponse = QueryResponse;","map":{"version":3,"sources":["../../src/smartcontracts/queryResponse.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryResponse = void 0;\nconst networkParams_1 = require(\"../networkParams\");\nconst query_1 = require(\"./query\");\nconst returnCode_1 = require(\"./returnCode\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst result_1 = require(\"./result\");\nclass QueryResponse {\n    constructor(init) {\n        this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n        this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n        this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n        this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n    }\n    /**\n     * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n     */\n    static fromHttpResponse(payload) {\n        let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n        let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n        let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n        let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n        let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n        return new QueryResponse({\n            returnData: returnData,\n            returnCode: new returnCode_1.ReturnCode(returnCode),\n            returnMessage: returnMessage,\n            gasUsed: gasUsed,\n        });\n    }\n    getEndpointDefinition() {\n        return this.endpointDefinition;\n    }\n    getReturnCode() {\n        return this.returnCode;\n    }\n    getReturnMessage() {\n        return this.returnMessage;\n    }\n    unpackOutput() {\n        return result_1.Result.unpackOutput(this);\n    }\n    assertSuccess() {\n        result_1.Result.assertSuccess(this);\n    }\n    isSuccess() {\n        return this.returnCode.isSuccess();\n    }\n    setEndpointDefinition(endpointDefinition) {\n        this.endpointDefinition = endpointDefinition;\n    }\n    outputUntyped() {\n        this.assertSuccess();\n        let buffers = this.returnData.map((item) => Buffer.from(item || \"\", \"base64\"));\n        return buffers;\n    }\n    outputTyped() {\n        return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n    toJSON() {\n        return {\n            success: this.isSuccess(),\n            returnData: this.returnData,\n            returnCode: this.returnCode,\n            returnMessage: this.returnMessage,\n            gasUsed: this.gasUsed.valueOf(),\n        };\n    }\n}\nexports.QueryResponse = QueryResponse;\n//# sourceMappingURL=queryResponse.js.map"]},"metadata":{},"sourceType":"script"}