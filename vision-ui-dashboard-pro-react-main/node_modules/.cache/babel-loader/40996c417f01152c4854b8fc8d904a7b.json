{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SendContext = void 0;\n\nconst networkParams_1 = require(\"../../networkParams\");\n\nconst strictChecker_1 = require(\"../strictChecker\");\n\nconst errors_1 = require(\"../../errors\");\n\nconst systemWrapper_1 = require(\"./systemWrapper\");\n/**\n * Stores contextual information which is needed when preparing a transaction.\n */\n\n\nclass SendContext {\n  constructor(provider) {\n    this.sender_ = null;\n    this.provider_ = provider;\n    this.gas_ = null;\n    this.logger_ = null;\n    this.value_ = null;\n    this.checker = new strictChecker_1.StrictChecker();\n  }\n\n  provider(provider) {\n    this.provider_ = provider;\n    return this;\n  }\n\n  sender(sender) {\n    this.sender_ = sender;\n    return this;\n  }\n\n  gas(gas) {\n    this.gas_ = new networkParams_1.GasLimit(gas);\n    return this;\n  }\n\n  autoGas(baseGas) {\n    return this.gas(systemWrapper_1.getGasFromValue(baseGas, this.value_));\n  }\n\n  logger(logger) {\n    this.logger_ = logger;\n    return this;\n  }\n\n  value(value) {\n    this.value_ = value;\n    return this;\n  }\n\n  getAndResetValue() {\n    let value = this.value_;\n    this.value_ = null;\n    return value;\n  }\n\n  getSender() {\n    if (this.sender_) {\n      return this.sender_;\n    }\n\n    throw new errors_1.Err(\"sender not set\");\n  }\n\n  getSenderOptional() {\n    return this.sender_;\n  }\n\n  getProvider() {\n    return this.provider_;\n  }\n\n  getGasLimit() {\n    if (this.gas_) {\n      return this.gas_;\n    }\n\n    throw new errors_1.Err(\"gas limit not set\");\n  }\n\n  getLogger() {\n    return this.logger_;\n  }\n\n}\n\nexports.SendContext = SendContext;","map":{"version":3,"sources":["../../../src/smartcontracts/wrapper/sendContext.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,eAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAGA,MAAA,eAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAIA,MAAA,QAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AACA,MAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;AAEA;;AAEG;;;AACH,MAAa,WAAb,CAAwB;EAQpB,WAAA,CAAY,QAAZ,EAA+B;IAC3B,KAAK,OAAL,GAAe,IAAf;IACA,KAAK,SAAL,GAAiB,QAAjB;IACA,KAAK,IAAL,GAAY,IAAZ;IACA,KAAK,OAAL,GAAe,IAAf;IACA,KAAK,MAAL,GAAc,IAAd;IACA,KAAK,OAAL,GAAe,IAAI,eAAA,CAAA,aAAJ,EAAf;EACH;;EAED,QAAQ,CAAC,QAAD,EAAoB;IACxB,KAAK,SAAL,GAAiB,QAAjB;IACA,OAAO,IAAP;EACH;;EAED,MAAM,CAAC,MAAD,EAAmB;IACrB,KAAK,OAAL,GAAe,MAAf;IACA,OAAO,IAAP;EACH;;EAED,GAAG,CAAC,GAAD,EAAY;IACX,KAAK,IAAL,GAAY,IAAI,eAAA,CAAA,QAAJ,CAAa,GAAb,CAAZ;IACA,OAAO,IAAP;EACH;;EAED,OAAO,CAAC,OAAD,EAAgB;IACnB,OAAO,KAAK,GAAL,CAAS,eAAA,CAAA,eAAA,CAAgB,OAAhB,EAAyB,KAAK,MAA9B,CAAT,CAAP;EACH;;EAED,MAAM,CAAC,MAAD,EAA8B;IAChC,KAAK,OAAL,GAAe,MAAf;IACA,OAAO,IAAP;EACH;;EAED,KAAK,CAAC,KAAD,EAAe;IAChB,KAAK,MAAL,GAAc,KAAd;IACA,OAAO,IAAP;EACH;;EAED,gBAAgB,GAAA;IACZ,IAAI,KAAK,GAAG,KAAK,MAAjB;IACA,KAAK,MAAL,GAAc,IAAd;IACA,OAAO,KAAP;EACH;;EAED,SAAS,GAAA;IACL,IAAI,KAAK,OAAT,EAAkB;MACd,OAAO,KAAK,OAAZ;IACH;;IACD,MAAM,IAAI,QAAA,CAAA,GAAJ,CAAQ,gBAAR,CAAN;EACH;;EAED,iBAAiB,GAAA;IACb,OAAO,KAAK,OAAZ;EACH;;EAED,WAAW,GAAA;IACP,OAAO,KAAK,SAAZ;EACH;;EAED,WAAW,GAAA;IACP,IAAI,KAAK,IAAT,EAAe;MACX,OAAO,KAAK,IAAZ;IACH;;IACD,MAAM,IAAI,QAAA,CAAA,GAAJ,CAAQ,mBAAR,CAAN;EACH;;EAED,SAAS,GAAA;IACL,OAAO,KAAK,OAAZ;EACH;;AA5EmB;;AAAxB,OAAA,CAAA,WAAA,GAAA,WAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SendContext = void 0;\nconst networkParams_1 = require(\"../../networkParams\");\nconst strictChecker_1 = require(\"../strictChecker\");\nconst errors_1 = require(\"../../errors\");\nconst systemWrapper_1 = require(\"./systemWrapper\");\n/**\n * Stores contextual information which is needed when preparing a transaction.\n */\nclass SendContext {\n    constructor(provider) {\n        this.sender_ = null;\n        this.provider_ = provider;\n        this.gas_ = null;\n        this.logger_ = null;\n        this.value_ = null;\n        this.checker = new strictChecker_1.StrictChecker();\n    }\n    provider(provider) {\n        this.provider_ = provider;\n        return this;\n    }\n    sender(sender) {\n        this.sender_ = sender;\n        return this;\n    }\n    gas(gas) {\n        this.gas_ = new networkParams_1.GasLimit(gas);\n        return this;\n    }\n    autoGas(baseGas) {\n        return this.gas(systemWrapper_1.getGasFromValue(baseGas, this.value_));\n    }\n    logger(logger) {\n        this.logger_ = logger;\n        return this;\n    }\n    value(value) {\n        this.value_ = value;\n        return this;\n    }\n    getAndResetValue() {\n        let value = this.value_;\n        this.value_ = null;\n        return value;\n    }\n    getSender() {\n        if (this.sender_) {\n            return this.sender_;\n        }\n        throw new errors_1.Err(\"sender not set\");\n    }\n    getSenderOptional() {\n        return this.sender_;\n    }\n    getProvider() {\n        return this.provider_;\n    }\n    getGasLimit() {\n        if (this.gas_) {\n            return this.gas_;\n        }\n        throw new errors_1.Err(\"gas limit not set\");\n    }\n    getLogger() {\n        return this.logger_;\n    }\n}\nexports.SendContext = SendContext;\n//# sourceMappingURL=sendContext.js.map"]},"metadata":{},"sourceType":"script"}