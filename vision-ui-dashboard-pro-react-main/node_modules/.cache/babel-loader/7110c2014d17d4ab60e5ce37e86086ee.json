{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mnemonic = void 0;\n\nvar errors = __importStar(require(\"../errors\"));\n\nvar bip39_1 = require(\"bip39\");\n\nvar userKeys_1 = require(\"./userKeys\");\n\nvar ed25519_hd_key_1 = require(\"ed25519-hd-key\");\n\nvar MNEMONIC_STRENGTH = 256;\nvar BIP44_DERIVATION_PREFIX = \"m/44'/508'/0'/0'\";\n\nvar Mnemonic = /*#__PURE__*/function () {\n  function Mnemonic(text) {\n    _classCallCheck(this, Mnemonic);\n\n    this.text = text;\n  }\n\n  _createClass(Mnemonic, [{\n    key: \"deriveKey\",\n    value: function deriveKey() {\n      var addressIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var seed = bip39_1.mnemonicToSeedSync(this.text, password);\n      var derivationPath = \"\".concat(BIP44_DERIVATION_PREFIX, \"/\").concat(addressIndex, \"'\");\n      var derivationResult = ed25519_hd_key_1.derivePath(derivationPath, seed.toString(\"hex\"));\n      var key = derivationResult.key;\n      return new userKeys_1.UserSecretKey(key);\n    }\n  }, {\n    key: \"getWords\",\n    value: function getWords() {\n      return this.text.split(\" \");\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.text;\n    }\n  }], [{\n    key: \"generate\",\n    value: function generate() {\n      var text = bip39_1.generateMnemonic(MNEMONIC_STRENGTH);\n      return new Mnemonic(text);\n    }\n  }, {\n    key: \"fromString\",\n    value: function fromString(text) {\n      text = text.trim();\n      Mnemonic.assertTextIsValid(text);\n      return new Mnemonic(text);\n    }\n  }, {\n    key: \"assertTextIsValid\",\n    value: function assertTextIsValid(text) {\n      var isValid = bip39_1.validateMnemonic(text);\n\n      if (!isValid) {\n        throw new errors.ErrWrongMnemonic();\n      }\n    }\n  }]);\n\n  return Mnemonic;\n}();\n\nexports.Mnemonic = Mnemonic;","map":{"version":3,"sources":["../../src/walletcore/mnemonic.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,gBAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AAEA,IAAM,iBAAiB,GAAG,GAA1B;AACA,IAAM,uBAAuB,GAAG,kBAAhC;;IAEa,Q;EAGT,kBAAoB,IAApB,EAAgC;IAAA;;IAC5B,KAAK,IAAL,GAAY,IAAZ;EACH;;;;WAsBD,qBAAyD;MAAA,IAA/C,YAA+C,uEAAxB,CAAwB;MAAA,IAArB,QAAqB,uEAAF,EAAE;MACrD,IAAI,IAAI,GAAG,OAAA,CAAA,kBAAA,CAAmB,KAAK,IAAxB,EAA8B,QAA9B,CAAX;MACA,IAAI,cAAc,aAAM,uBAAN,cAAiC,YAAjC,MAAlB;MACA,IAAI,gBAAgB,GAAG,gBAAA,CAAA,UAAA,CAAW,cAAX,EAA2B,IAAI,CAAC,QAAL,CAAc,KAAd,CAA3B,CAAvB;MACA,IAAI,GAAG,GAAG,gBAAgB,CAAC,GAA3B;MACA,OAAO,IAAI,UAAA,CAAA,aAAJ,CAAkB,GAAlB,CAAP;IACH;;;WAED,oBAAQ;MACJ,OAAO,KAAK,IAAL,CAAU,KAAV,CAAgB,GAAhB,CAAP;IACH;;;WAED,oBAAQ;MACJ,OAAO,KAAK,IAAZ;IACH;;;WAlCD,oBAAe;MACX,IAAI,IAAI,GAAG,OAAA,CAAA,gBAAA,CAAiB,iBAAjB,CAAX;MACA,OAAO,IAAI,QAAJ,CAAa,IAAb,CAAP;IACH;;;WAED,oBAAkB,IAAlB,EAA8B;MAC1B,IAAI,GAAG,IAAI,CAAC,IAAL,EAAP;MAEA,QAAQ,CAAC,iBAAT,CAA2B,IAA3B;MACA,OAAO,IAAI,QAAJ,CAAa,IAAb,CAAP;IACH;;;WAEO,2BAAyB,IAAzB,EAAqC;MACzC,IAAI,OAAO,GAAG,OAAA,CAAA,gBAAA,CAAiB,IAAjB,CAAd;;MAEA,IAAI,CAAC,OAAL,EAAc;QACV,MAAM,IAAI,MAAM,CAAC,gBAAX,EAAN;MACH;IACJ;;;;;;AAzBL,OAAA,CAAA,QAAA,GAAA,QAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mnemonic = void 0;\nconst errors = __importStar(require(\"../errors\"));\nconst bip39_1 = require(\"bip39\");\nconst userKeys_1 = require(\"./userKeys\");\nconst ed25519_hd_key_1 = require(\"ed25519-hd-key\");\nconst MNEMONIC_STRENGTH = 256;\nconst BIP44_DERIVATION_PREFIX = \"m/44'/508'/0'/0'\";\nclass Mnemonic {\n    constructor(text) {\n        this.text = text;\n    }\n    static generate() {\n        let text = bip39_1.generateMnemonic(MNEMONIC_STRENGTH);\n        return new Mnemonic(text);\n    }\n    static fromString(text) {\n        text = text.trim();\n        Mnemonic.assertTextIsValid(text);\n        return new Mnemonic(text);\n    }\n    static assertTextIsValid(text) {\n        let isValid = bip39_1.validateMnemonic(text);\n        if (!isValid) {\n            throw new errors.ErrWrongMnemonic();\n        }\n    }\n    deriveKey(addressIndex = 0, password = \"\") {\n        let seed = bip39_1.mnemonicToSeedSync(this.text, password);\n        let derivationPath = `${BIP44_DERIVATION_PREFIX}/${addressIndex}'`;\n        let derivationResult = ed25519_hd_key_1.derivePath(derivationPath, seed.toString(\"hex\"));\n        let key = derivationResult.key;\n        return new userKeys_1.UserSecretKey(key);\n    }\n    getWords() {\n        return this.text.split(\" \");\n    }\n    toString() {\n        return this.text;\n    }\n}\nexports.Mnemonic = Mnemonic;\n//# sourceMappingURL=mnemonic.js.map"]},"metadata":{},"sourceType":"script"}