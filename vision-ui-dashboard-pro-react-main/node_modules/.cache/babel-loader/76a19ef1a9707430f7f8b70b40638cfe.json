{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/regenerator/index.js\");\n\nvar _createForOfIteratorHelper = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _toConsumableArray = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _classCallCheck = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SmartContractAbi = void 0;\n\nvar errors_1 = require(\"../errors\");\n\nvar utils_1 = require(\"../utils\");\n\nvar function_1 = require(\"./function\");\n\nvar typesystem_1 = require(\"./typesystem\");\n\nvar SmartContractAbi = /*#__PURE__*/function () {\n  function SmartContractAbi(registry, implementsInterfaces) {\n    var _this$interfaces;\n\n    _classCallCheck(this, SmartContractAbi);\n\n    this.interfaces = [];\n\n    (_this$interfaces = this.interfaces).push.apply(_this$interfaces, _toConsumableArray(registry.getInterfaces(implementsInterfaces)));\n  }\n\n  _createClass(SmartContractAbi, [{\n    key: \"getAllEndpoints\",\n    value: function getAllEndpoints() {\n      var endpoints = [];\n\n      var _iterator = _createForOfIteratorHelper(this.interfaces),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var iface = _step.value;\n          endpoints.push.apply(endpoints, _toConsumableArray(iface.endpoints));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return endpoints;\n    }\n  }, {\n    key: \"getEndpoint\",\n    value: function getEndpoint(name) {\n      if (name instanceof function_1.ContractFunction) {\n        name = name.name;\n      }\n\n      var result = this.getAllEndpoints().find(function (item) {\n        return item.name === name;\n      });\n      utils_1.guardValueIsSetWithMessage(\"endpoint [\".concat(name, \"] not found\"), result);\n      return result;\n    }\n  }, {\n    key: \"getConstructorDefinition\",\n    value: function getConstructorDefinition() {\n      var constructors = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.interfaces),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var iface = _step2.value;\n          var constructor_definition = iface.getConstructorDefinition();\n\n          if (constructor_definition !== null) {\n            constructors.push(constructor_definition);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      switch (constructors.length) {\n        case 0:\n          return null;\n\n        case 1:\n          return constructors[0];\n\n        default:\n          throw new errors_1.ErrInvariantFailed(\"Found more than 1 constructor (found \".concat(constructors.length, \")\"));\n      }\n    }\n  }], [{\n    key: \"fromAbiPath\",\n    value: function fromAbiPath(abiPath) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var abiRegistry, interfaceNames;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return typesystem_1.AbiRegistry.load({\n                  files: [abiPath]\n                });\n\n              case 2:\n                abiRegistry = _context.sent;\n                interfaceNames = abiRegistry.interfaces.map(function (iface) {\n                  return iface.name;\n                });\n                return _context.abrupt(\"return\", new SmartContractAbi(abiRegistry, interfaceNames));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n  }, {\n    key: \"fromAbiUrl\",\n    value: function fromAbiUrl(abiUrl) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var abiRegistry, interfaceNames;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return typesystem_1.AbiRegistry.load({\n                  urls: [abiUrl]\n                });\n\n              case 2:\n                abiRegistry = _context2.sent;\n                interfaceNames = abiRegistry.interfaces.map(function (iface) {\n                  return iface.name;\n                });\n                return _context2.abrupt(\"return\", new SmartContractAbi(abiRegistry, interfaceNames));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    }\n  }]);\n\n  return SmartContractAbi;\n}();\n\nexports.SmartContractAbi = SmartContractAbi;","map":{"version":3,"sources":["../../src/smartcontracts/abi.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;IAGa,gB;EAGT,0BAAY,QAAZ,EAAmC,oBAAnC,EAAiE;IAAA;;IAAA;;IAFhD,KAAA,UAAA,GAAkC,EAAlC;;IAGb,yBAAK,UAAL,EAAgB,IAAhB,4CAAwB,QAAQ,CAAC,aAAT,CAAuB,oBAAvB,CAAxB;EACH;;;;WAcD,2BAAe;MACX,IAAI,SAAS,GAAG,EAAhB;;MADW,2CAGS,KAAK,UAHd;MAAA;;MAAA;QAGX,oDAAqC;UAAA,IAA1B,KAA0B;UACjC,SAAS,CAAC,IAAV,OAAA,SAAS,qBAAS,KAAK,CAAC,SAAf,EAAT;QACH;MALU;QAAA;MAAA;QAAA;MAAA;;MAOX,OAAO,SAAP;IACH;;;WAED,qBAAY,IAAZ,EAA2C;MACvC,IAAI,IAAI,YAAY,UAAA,CAAA,gBAApB,EAAsC;QAClC,IAAI,GAAG,IAAI,CAAC,IAAZ;MACH;;MACD,IAAI,MAAM,GAAG,KAAK,eAAL,GAAuB,IAAvB,CAA4B,UAAA,IAAI;QAAA,OAAI,IAAI,CAAC,IAAL,KAAc,IAAlB;MAAA,CAAhC,CAAb;MACA,OAAA,CAAA,0BAAA,qBAAwC,IAAxC,kBAA2D,MAA3D;MACA,OAAO,MAAP;IACH;;;WAED,oCAAwB;MACpB,IAAI,YAAY,GAAG,EAAnB;;MADoB,4CAEA,KAAK,UAFL;MAAA;;MAAA;QAEpB,uDAAqC;UAAA,IAA1B,KAA0B;UACjC,IAAI,sBAAsB,GAAG,KAAK,CAAC,wBAAN,EAA7B;;UACA,IAAI,sBAAsB,KAAK,IAA/B,EAAqC;YACjC,YAAY,CAAC,IAAb,CAAkB,sBAAlB;UACH;QACJ;MAPmB;QAAA;MAAA;QAAA;MAAA;;MAQpB,QAAQ,YAAY,CAAC,MAArB;QACI,KAAK,CAAL;UACI,OAAO,IAAP;;QACJ,KAAK,CAAL;UACI,OAAO,YAAY,CAAC,CAAD,CAAnB;;QACJ;UACI,MAAM,IAAI,QAAA,CAAA,kBAAJ,gDAA+D,YAAY,CAAC,MAA5E,OAAN;MANR;IAQH;;;WA/CD,qBAAyB,OAAzB,EAAwC;;;;;;;;gBAClB,OAAM,YAAA,CAAA,WAAA,CAAY,IAAZ,CAAiB;kBAAE,KAAK,EAAE,CAAC,OAAD;gBAAT,CAAjB,CAAN;;;gBAAd,W;gBACA,c,GAAiB,WAAW,CAAC,UAAZ,CAAuB,GAAvB,CAA2B,UAAA,KAAK;kBAAA,OAAI,KAAK,CAAC,IAAV;gBAAA,CAAhC,C;iDACd,IAAI,gBAAJ,CAAqB,WAArB,EAAkC,cAAlC,C;;;;;;;;;IACV;;;WAED,oBAAwB,MAAxB,EAAsC;;;;;;;;gBAChB,OAAM,YAAA,CAAA,WAAA,CAAY,IAAZ,CAAiB;kBAAE,IAAI,EAAE,CAAC,MAAD;gBAAR,CAAjB,CAAN;;;gBAAd,W;gBACA,c,GAAiB,WAAW,CAAC,UAAZ,CAAuB,GAAvB,CAA2B,UAAA,KAAK;kBAAA,OAAI,KAAK,CAAC,IAAV;gBAAA,CAAhC,C;kDACd,IAAI,gBAAJ,CAAqB,WAArB,EAAkC,cAAlC,C;;;;;;;;;IACV;;;;;;AAjBL,OAAA,CAAA,gBAAA,GAAA,gBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmartContractAbi = void 0;\nconst errors_1 = require(\"../errors\");\nconst utils_1 = require(\"../utils\");\nconst function_1 = require(\"./function\");\nconst typesystem_1 = require(\"./typesystem\");\nclass SmartContractAbi {\n    constructor(registry, implementsInterfaces) {\n        this.interfaces = [];\n        this.interfaces.push(...registry.getInterfaces(implementsInterfaces));\n    }\n    static fromAbiPath(abiPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let abiRegistry = yield typesystem_1.AbiRegistry.load({ files: [abiPath] });\n            let interfaceNames = abiRegistry.interfaces.map(iface => iface.name);\n            return new SmartContractAbi(abiRegistry, interfaceNames);\n        });\n    }\n    static fromAbiUrl(abiUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let abiRegistry = yield typesystem_1.AbiRegistry.load({ urls: [abiUrl] });\n            let interfaceNames = abiRegistry.interfaces.map(iface => iface.name);\n            return new SmartContractAbi(abiRegistry, interfaceNames);\n        });\n    }\n    getAllEndpoints() {\n        let endpoints = [];\n        for (const iface of this.interfaces) {\n            endpoints.push(...iface.endpoints);\n        }\n        return endpoints;\n    }\n    getEndpoint(name) {\n        if (name instanceof function_1.ContractFunction) {\n            name = name.name;\n        }\n        let result = this.getAllEndpoints().find(item => item.name === name);\n        utils_1.guardValueIsSetWithMessage(`endpoint [${name}] not found`, result);\n        return result;\n    }\n    getConstructorDefinition() {\n        let constructors = [];\n        for (const iface of this.interfaces) {\n            let constructor_definition = iface.getConstructorDefinition();\n            if (constructor_definition !== null) {\n                constructors.push(constructor_definition);\n            }\n        }\n        switch (constructors.length) {\n            case 0:\n                return null;\n            case 1:\n                return constructors[0];\n            default:\n                throw new errors_1.ErrInvariantFailed(`Found more than 1 constructor (found ${constructors.length})`);\n        }\n    }\n}\nexports.SmartContractAbi = SmartContractAbi;\n//# sourceMappingURL=abi.js.map"]},"metadata":{},"sourceType":"script"}