{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryResponse = void 0;\n\nvar networkParams_1 = require(\"../networkParams\");\n\nvar query_1 = require(\"./query\");\n\nvar returnCode_1 = require(\"./returnCode\");\n\nvar bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nvar result_1 = require(\"./result\");\n\nvar QueryResponse = /*#__PURE__*/function () {\n  function QueryResponse(init) {\n    _classCallCheck(this, QueryResponse);\n\n    this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n    this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n    this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n    this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n  }\n  /**\n   * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n   */\n\n\n  _createClass(QueryResponse, [{\n    key: \"getEndpointDefinition\",\n    value: function getEndpointDefinition() {\n      return this.endpointDefinition;\n    }\n  }, {\n    key: \"getReturnCode\",\n    value: function getReturnCode() {\n      return this.returnCode;\n    }\n  }, {\n    key: \"getReturnMessage\",\n    value: function getReturnMessage() {\n      return this.returnMessage;\n    }\n  }, {\n    key: \"unpackOutput\",\n    value: function unpackOutput() {\n      return result_1.Result.unpackOutput(this);\n    }\n  }, {\n    key: \"assertSuccess\",\n    value: function assertSuccess() {\n      result_1.Result.assertSuccess(this);\n    }\n  }, {\n    key: \"isSuccess\",\n    value: function isSuccess() {\n      return this.returnCode.isSuccess();\n    }\n  }, {\n    key: \"setEndpointDefinition\",\n    value: function setEndpointDefinition(endpointDefinition) {\n      this.endpointDefinition = endpointDefinition;\n    }\n  }, {\n    key: \"outputUntyped\",\n    value: function outputUntyped() {\n      this.assertSuccess();\n      var buffers = this.returnData.map(function (item) {\n        return Buffer.from(item || \"\", \"base64\");\n      });\n      return buffers;\n    }\n  }, {\n    key: \"outputTyped\",\n    value: function outputTyped() {\n      return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        success: this.isSuccess(),\n        returnData: this.returnData,\n        returnCode: this.returnCode,\n        returnMessage: this.returnMessage,\n        gasUsed: this.gasUsed.valueOf()\n      };\n    }\n  }], [{\n    key: \"fromHttpResponse\",\n    value: function fromHttpResponse(payload) {\n      var returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n      var returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n      var returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n      var gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n      var gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n      return new QueryResponse({\n        returnData: returnData,\n        returnCode: new returnCode_1.ReturnCode(returnCode),\n        returnMessage: returnMessage,\n        gasUsed: gasUsed\n      });\n    }\n  }]);\n\n  return QueryResponse;\n}();\n\nexports.QueryResponse = QueryResponse;","map":{"version":3,"sources":["../../src/smartcontracts/queryResponse.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryResponse = void 0;\nconst networkParams_1 = require(\"../networkParams\");\nconst query_1 = require(\"./query\");\nconst returnCode_1 = require(\"./returnCode\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst result_1 = require(\"./result\");\nclass QueryResponse {\n    constructor(init) {\n        this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n        this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n        this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n        this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n    }\n    /**\n     * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n     */\n    static fromHttpResponse(payload) {\n        let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n        let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n        let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n        let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n        let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n        return new QueryResponse({\n            returnData: returnData,\n            returnCode: new returnCode_1.ReturnCode(returnCode),\n            returnMessage: returnMessage,\n            gasUsed: gasUsed,\n        });\n    }\n    getEndpointDefinition() {\n        return this.endpointDefinition;\n    }\n    getReturnCode() {\n        return this.returnCode;\n    }\n    getReturnMessage() {\n        return this.returnMessage;\n    }\n    unpackOutput() {\n        return result_1.Result.unpackOutput(this);\n    }\n    assertSuccess() {\n        result_1.Result.assertSuccess(this);\n    }\n    isSuccess() {\n        return this.returnCode.isSuccess();\n    }\n    setEndpointDefinition(endpointDefinition) {\n        this.endpointDefinition = endpointDefinition;\n    }\n    outputUntyped() {\n        this.assertSuccess();\n        let buffers = this.returnData.map((item) => Buffer.from(item || \"\", \"base64\"));\n        return buffers;\n    }\n    outputTyped() {\n        return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n    toJSON() {\n        return {\n            success: this.isSuccess(),\n            returnData: this.returnData,\n            returnCode: this.returnCode,\n            returnMessage: this.returnMessage,\n            gasUsed: this.gasUsed.valueOf(),\n        };\n    }\n}\nexports.QueryResponse = QueryResponse;\n//# sourceMappingURL=queryResponse.js.map"]},"metadata":{},"sourceType":"script"}