{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OrbitControls = void 0;\n\nvar Three = require(\"three\");\n\nvar STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_DOLLY: 4,\n  TOUCH_PAN: 5\n};\nvar CHANGE_EVENT = {\n  type: 'change'\n};\nvar START_EVENT = {\n  type: 'start'\n};\nvar END_EVENT = {\n  type: 'end'\n};\nvar EPS = 0.000001;\n/**\r\n* @author qiao / https://github.com/qiao\r\n* @author mrdoob / http://mrdoob.com\r\n* @author alteredq / http://alteredqualia.com/\r\n* @author WestLangley / http://github.com/WestLangley\r\n* @author erich666 / http://erichaines.com\r\n* @author nicolaspanel / http://github.com/nicolaspanel\r\n*\r\n* This set of controls performs orbiting, dollying (zooming), and panning.\r\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n*    Orbit - left mouse / touch: one finger move\r\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\r\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\r\n*/\n\nvar OrbitControls =\n/** @class */\nfunction (_super) {\n  __extends(OrbitControls, _super);\n\n  function OrbitControls(object, domElement, domWindow) {\n    var _this = _super.call(this) || this;\n\n    _this.object = object;\n    _this.domElement = domElement !== undefined ? domElement : document;\n    _this.window = domWindow !== undefined ? domWindow : window; // Set to false to disable this control\n\n    _this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    _this.target = new Three.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    _this.minDistance = 0;\n    _this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    _this.minZoom = 0;\n    _this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    _this.minPolarAngle = 0; // radians\n\n    _this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n    _this.minAzimuthAngle = -Infinity; // radians\n\n    _this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    _this.enableDamping = false;\n    _this.dampingFactor = 0.25; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    _this.enableZoom = true;\n    _this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    _this.enableRotate = true;\n    _this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    _this.enablePan = true;\n    _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    _this.autoRotate = false;\n    _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n    // Set to false to disable use of the keys\n\n    _this.enableKeys = true; // The four arrow keys\n\n    _this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    }; // Mouse buttons\n\n    _this.mouseButtons = {\n      ORBIT: Three.MOUSE.LEFT,\n      ZOOM: Three.MOUSE.MIDDLE,\n      PAN: Three.MOUSE.RIGHT\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.zoom0 = _this.object.zoom; // for update speedup\n\n    _this.updateOffset = new Three.Vector3(); // so camera.up is the orbit axis\n\n    _this.updateQuat = new Three.Quaternion().setFromUnitVectors(object.up, new Three.Vector3(0, 1, 0));\n    _this.updateQuatInverse = _this.updateQuat.clone().invert();\n    _this.updateLastPosition = new Three.Vector3();\n    _this.updateLastQuaternion = new Three.Quaternion();\n    _this.state = STATE.NONE;\n    _this.scale = 1; // current position in spherical coordinates\n\n    _this.spherical = new Three.Spherical();\n    _this.sphericalDelta = new Three.Spherical();\n    _this.panOffset = new Three.Vector3();\n    _this.zoomChanged = false;\n    _this.rotateStart = new Three.Vector2();\n    _this.rotateEnd = new Three.Vector2();\n    _this.rotateDelta = new Three.Vector2();\n    _this.panStart = new Three.Vector2();\n    _this.panEnd = new Three.Vector2();\n    _this.panDelta = new Three.Vector2();\n    _this.dollyStart = new Three.Vector2();\n    _this.dollyEnd = new Three.Vector2();\n    _this.dollyDelta = new Three.Vector2();\n    _this.panLeftV = new Three.Vector3();\n    _this.panUpV = new Three.Vector3();\n    _this.panInternalOffset = new Three.Vector3(); // event handlers - FSM: listen for events and reset state\n\n    _this.onMouseDown = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      if (event.button === _this.mouseButtons.ORBIT) {\n        if (_this.enableRotate === false) return;\n\n        _this.rotateStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.ROTATE;\n      } else if (event.button === _this.mouseButtons.ZOOM) {\n        if (_this.enableZoom === false) return;\n\n        _this.dollyStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.DOLLY;\n      } else if (event.button === _this.mouseButtons.PAN) {\n        if (_this.enablePan === false) return;\n\n        _this.panStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.PAN;\n      }\n\n      if (_this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', _this.onMouseMove, false);\n        document.addEventListener('mouseup', _this.onMouseUp, false);\n\n        _this.dispatchEvent(START_EVENT);\n      }\n    };\n\n    _this.onMouseMove = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      if (_this.state === STATE.ROTATE) {\n        if (_this.enableRotate === false) return;\n\n        _this.rotateEnd.set(event.clientX, event.clientY);\n\n        _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n\n        var element = _this.domElement === document ? _this.domElement.body : _this.domElement; // rotating across whole screen goes 360 degrees around\n\n        _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n\n        _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n\n        _this.rotateStart.copy(_this.rotateEnd);\n\n        _this.update();\n      } else if (_this.state === STATE.DOLLY) {\n        if (_this.enableZoom === false) return;\n\n        _this.dollyEnd.set(event.clientX, event.clientY);\n\n        _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n        if (_this.dollyDelta.y > 0) {\n          _this.dollyIn(_this.getZoomScale());\n        } else if (_this.dollyDelta.y < 0) {\n          _this.dollyOut(_this.getZoomScale());\n        }\n\n        _this.dollyStart.copy(_this.dollyEnd);\n\n        _this.update();\n      } else if (_this.state === STATE.PAN) {\n        if (_this.enablePan === false) return;\n\n        _this.panEnd.set(event.clientX, event.clientY);\n\n        _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n\n        _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n        _this.panStart.copy(_this.panEnd);\n\n        _this.update();\n      }\n    };\n\n    _this.onMouseUp = function (event) {\n      if (_this.enabled === false) return;\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n\n      _this.dispatchEvent(END_EVENT);\n\n      _this.state = STATE.NONE;\n    };\n\n    _this.onMouseWheel = function (event) {\n      if (_this.enabled === false || _this.enableZoom === false || _this.state !== STATE.NONE && _this.state !== STATE.ROTATE) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (event.deltaY < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      }\n\n      _this.update();\n\n      _this.dispatchEvent(START_EVENT); // not sure why these are here...\n\n\n      _this.dispatchEvent(END_EVENT);\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false) return;\n\n      switch (event.keyCode) {\n        case _this.keys.UP:\n          {\n            _this.pan(0, _this.keyPanSpeed);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.BOTTOM:\n          {\n            _this.pan(0, -_this.keyPanSpeed);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.LEFT:\n          {\n            _this.pan(_this.keyPanSpeed, 0);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.RIGHT:\n          {\n            _this.pan(-_this.keyPanSpeed, 0);\n\n            _this.update();\n          }\n          break;\n      }\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.touches.length) {\n        // one-fingered touch: rotate\n        case 1:\n          {\n            if (_this.enableRotate === false) return;\n\n            _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.state = STATE.TOUCH_ROTATE;\n          }\n          break;\n        // two-fingered touch: dolly\n\n        case 2:\n          {\n            if (_this.enableZoom === false) return;\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            _this.dollyStart.set(0, distance);\n\n            _this.state = STATE.TOUCH_DOLLY;\n          }\n          break;\n        // three-fingered touch: pan\n\n        case 3:\n          {\n            if (_this.enablePan === false) return;\n\n            _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.state = STATE.TOUCH_PAN;\n          }\n          break;\n\n        default:\n          {\n            _this.state = STATE.NONE;\n          }\n      }\n\n      if (_this.state !== STATE.NONE) {\n        _this.dispatchEvent(START_EVENT);\n      }\n    };\n\n    _this.onTouchMove = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch (event.touches.length) {\n        // one-fingered touch: rotate\n        case 1:\n          {\n            if (_this.enableRotate === false) return;\n            if (_this.state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n            _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n\n            var element = _this.domElement === document ? _this.domElement.body : _this.domElement; // rotating across whole screen goes 360 degrees around\n\n            _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n\n            _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n\n            _this.rotateStart.copy(_this.rotateEnd);\n\n            _this.update();\n          }\n          break;\n        // two-fingered touch: dolly\n\n        case 2:\n          {\n            if (_this.enableZoom === false) return;\n            if (_this.state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n            //console.log( 'handleTouchMoveDolly' );\n\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            _this.dollyEnd.set(0, distance);\n\n            _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n            if (_this.dollyDelta.y > 0) {\n              _this.dollyOut(_this.getZoomScale());\n            } else if (_this.dollyDelta.y < 0) {\n              _this.dollyIn(_this.getZoomScale());\n            }\n\n            _this.dollyStart.copy(_this.dollyEnd);\n\n            _this.update();\n          }\n          break;\n        // three-fingered touch: pan\n\n        case 3:\n          {\n            if (_this.enablePan === false) return;\n            if (_this.state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n            _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n\n            _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n            _this.panStart.copy(_this.panEnd);\n\n            _this.update();\n          }\n          break;\n\n        default:\n          {\n            _this.state = STATE.NONE;\n          }\n      }\n    };\n\n    _this.onTouchEnd = function (event) {\n      if (_this.enabled === false) return;\n\n      _this.dispatchEvent(END_EVENT);\n\n      _this.state = STATE.NONE;\n    };\n\n    _this.onContextMenu = function (event) {\n      event.preventDefault();\n    };\n\n    _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n\n    _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n\n    _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n\n    _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n\n    _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n\n    _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n\n    _this.window.addEventListener('keydown', _this.onKeyDown, false); // force an update at start\n\n\n    _this.update();\n\n    return _this;\n  }\n\n  OrbitControls.prototype.update = function () {\n    var position = this.object.position;\n    this.updateOffset.copy(position).sub(this.target); // rotate offset to \"y-axis-is-up\" space\n\n    this.updateOffset.applyQuaternion(this.updateQuat); // angle from z-axis around y-axis\n\n    this.spherical.setFromVector3(this.updateOffset);\n\n    if (this.autoRotate && this.state === STATE.NONE) {\n      this.rotateLeft(this.getAutoRotationAngle());\n    }\n\n    this.spherical.theta += this.sphericalDelta.theta;\n    this.spherical.phi += this.sphericalDelta.phi; // restrict theta to be between desired limits\n\n    this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\n\n    this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n    this.spherical.makeSafe();\n    this.spherical.radius *= this.scale; // restrict radius to be between desired limits\n\n    this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius)); // move target to panned location\n\n    this.target.add(this.panOffset);\n    this.updateOffset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n    this.updateOffset.applyQuaternion(this.updateQuatInverse);\n    position.copy(this.target).add(this.updateOffset);\n    this.object.lookAt(this.target);\n\n    if (this.enableDamping === true) {\n      this.sphericalDelta.theta *= 1 - this.dampingFactor;\n      this.sphericalDelta.phi *= 1 - this.dampingFactor;\n    } else {\n      this.sphericalDelta.set(0, 0, 0);\n    }\n\n    this.scale = 1;\n    this.panOffset.set(0, 0, 0); // update condition is:\n    // min(camera displacement, camera rotation in radians)^2 > EPS\n    // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n    if (this.zoomChanged || this.updateLastPosition.distanceToSquared(this.object.position) > EPS || 8 * (1 - this.updateLastQuaternion.dot(this.object.quaternion)) > EPS) {\n      this.dispatchEvent(CHANGE_EVENT);\n      this.updateLastPosition.copy(this.object.position);\n      this.updateLastQuaternion.copy(this.object.quaternion);\n      this.zoomChanged = false;\n      return true;\n    }\n\n    return false;\n  };\n\n  OrbitControls.prototype.panLeft = function (distance, objectMatrix) {\n    this.panLeftV.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n    this.panLeftV.multiplyScalar(-distance);\n    this.panOffset.add(this.panLeftV);\n  };\n\n  OrbitControls.prototype.panUp = function (distance, objectMatrix) {\n    this.panUpV.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\n    this.panUpV.multiplyScalar(distance);\n    this.panOffset.add(this.panUpV);\n  }; // deltaX and deltaY are in pixels; right and down are positive\n\n\n  OrbitControls.prototype.pan = function (deltaX, deltaY) {\n    var element = this.domElement === document ? this.domElement.body : this.domElement;\n\n    if (this._checkPerspectiveCamera(this.object)) {\n      // perspective\n      var position = this.object.position;\n      this.panInternalOffset.copy(position).sub(this.target);\n      var targetDistance = this.panInternalOffset.length(); // half of the fov is center to top of screen\n\n      targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\n\n      this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n      this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n    } else if (this._checkOrthographicCamera(this.object)) {\n      // orthographic\n      this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n      this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n    } else {\n      // camera neither orthographic nor perspective\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n      this.enablePan = false;\n    }\n  };\n\n  OrbitControls.prototype.dollyIn = function (dollyScale) {\n    if (this._checkPerspectiveCamera(this.object)) {\n      this.scale /= dollyScale;\n    } else if (this._checkOrthographicCamera(this.object)) {\n      this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      this.enableZoom = false;\n    }\n  };\n\n  OrbitControls.prototype.dollyOut = function (dollyScale) {\n    if (this._checkPerspectiveCamera(this.object)) {\n      this.scale *= dollyScale;\n    } else if (this._checkOrthographicCamera(this.object)) {\n      this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      this.enableZoom = false;\n    }\n  };\n\n  OrbitControls.prototype.getAutoRotationAngle = function () {\n    return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n  };\n\n  OrbitControls.prototype.getZoomScale = function () {\n    return Math.pow(0.95, this.zoomSpeed);\n  };\n\n  OrbitControls.prototype.rotateLeft = function (angle) {\n    this.sphericalDelta.theta -= angle;\n  };\n\n  OrbitControls.prototype.rotateUp = function (angle) {\n    this.sphericalDelta.phi -= angle;\n  };\n\n  OrbitControls.prototype.getPolarAngle = function () {\n    return this.spherical.phi;\n  };\n\n  OrbitControls.prototype.getAzimuthalAngle = function () {\n    return this.spherical.theta;\n  };\n\n  OrbitControls.prototype.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n    this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n    this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n    this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n    this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n    this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n    document.removeEventListener('mousemove', this.onMouseMove, false);\n    document.removeEventListener('mouseup', this.onMouseUp, false);\n    this.window.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  OrbitControls.prototype.reset = function () {\n    this.target.copy(this.target0);\n    this.object.position.copy(this.position0);\n    this.object.zoom = this.zoom0;\n    this.object.updateProjectionMatrix();\n    this.dispatchEvent(CHANGE_EVENT);\n    this.update();\n    this.state = STATE.NONE;\n  };\n\n  OrbitControls.prototype.saveState = function () {\n    this.target0.copy(this.target);\n    this.position0.copy(this.object.position); // Check whether the camera has zoom property\n\n    if (this._checkOrthographicCamera(this.object) || this._checkPerspectiveCamera(this.object)) {\n      this.zoom0 = this.object.zoom;\n    }\n  };\n\n  Object.defineProperty(OrbitControls.prototype, \"center\", {\n    // backward compatibility\n    get: function () {\n      console.warn('Three.OrbitControls: .center has been renamed to .target');\n      return this.target;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(OrbitControls.prototype, \"noZoom\", {\n    get: function () {\n      console.warn('Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      return !this.enableZoom;\n    },\n    set: function (value) {\n      console.warn('Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      this.enableZoom = !value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * TS typeguard. Checks whether the provided camera is PerspectiveCamera.\r\n   * If the check passes (returns true) the passed camera will have the type Three.PerspectiveCamera in the if branch where the check was performed.\r\n   * @param camera Object to be checked.\r\n   */\n\n  OrbitControls.prototype._checkPerspectiveCamera = function (camera) {\n    return camera.isPerspectiveCamera;\n  };\n  /**\r\n   * TS typeguard. Checks whether the provided camera is OrthographicCamera.\r\n   * If the check passes (returns true) the passed camera will have the type Three.OrthographicCamera in the if branch where the check was performed.\r\n   * @param camera Object to be checked.\r\n   */\n\n\n  OrbitControls.prototype._checkOrthographicCamera = function (camera) {\n    return camera.isOrthographicCamera;\n  };\n\n  return OrbitControls;\n}(Three.EventDispatcher);\n\nexports.OrbitControls = OrbitControls;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","OrbitControls","Three","require","STATE","NONE","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","CHANGE_EVENT","type","START_EVENT","END_EVENT","EPS","_super","object","domElement","domWindow","_this","undefined","document","window","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","target0","clone","position0","position","zoom0","zoom","updateOffset","updateQuat","Quaternion","setFromUnitVectors","up","updateQuatInverse","invert","updateLastPosition","updateLastQuaternion","state","scale","spherical","Spherical","sphericalDelta","panOffset","zoomChanged","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","panLeftV","panUpV","panInternalOffset","onMouseDown","event","preventDefault","button","set","clientX","clientY","addEventListener","onMouseMove","onMouseUp","dispatchEvent","subVectors","element","body","rotateLeft","x","clientWidth","rotateUp","y","clientHeight","copy","update","dollyIn","getZoomScale","dollyOut","pan","removeEventListener","onMouseWheel","stopPropagation","deltaY","onKeyDown","keyCode","onTouchStart","touches","length","pageX","pageY","dx","dy","distance","sqrt","onTouchMove","onTouchEnd","onContextMenu","sub","applyQuaternion","setFromVector3","getAutoRotationAngle","theta","phi","max","min","makeSafe","radius","add","setFromSpherical","lookAt","distanceToSquared","dot","quaternion","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","_checkPerspectiveCamera","targetDistance","tan","fov","matrix","_checkOrthographicCamera","right","left","top","bottom","console","warn","dollyScale","updateProjectionMatrix","pow","angle","getPolarAngle","getAzimuthalAngle","dispose","reset","saveState","get","enumerable","configurable","camera","isPerspectiveCamera","isOrthographicCamera","EventDispatcher"],"sources":["/home/ionut/Desktop/xlauncher-presale/vision-ui-dashboard-pro-react-main/node_modules/@three-ts/orbit-controls/dist/index.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OrbitControls = void 0;\r\nvar Three = require(\"three\");\r\nvar STATE = {\r\n    NONE: -1,\r\n    ROTATE: 0,\r\n    DOLLY: 1,\r\n    PAN: 2,\r\n    TOUCH_ROTATE: 3,\r\n    TOUCH_DOLLY: 4,\r\n    TOUCH_PAN: 5\r\n};\r\nvar CHANGE_EVENT = { type: 'change' };\r\nvar START_EVENT = { type: 'start' };\r\nvar END_EVENT = { type: 'end' };\r\nvar EPS = 0.000001;\r\n/**\r\n* @author qiao / https://github.com/qiao\r\n* @author mrdoob / http://mrdoob.com\r\n* @author alteredq / http://alteredqualia.com/\r\n* @author WestLangley / http://github.com/WestLangley\r\n* @author erich666 / http://erichaines.com\r\n* @author nicolaspanel / http://github.com/nicolaspanel\r\n*\r\n* This set of controls performs orbiting, dollying (zooming), and panning.\r\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n*    Orbit - left mouse / touch: one finger move\r\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\r\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\r\n*/\r\nvar OrbitControls = /** @class */ (function (_super) {\r\n    __extends(OrbitControls, _super);\r\n    function OrbitControls(object, domElement, domWindow) {\r\n        var _this = _super.call(this) || this;\r\n        _this.object = object;\r\n        _this.domElement = (domElement !== undefined) ? domElement : document;\r\n        _this.window = (domWindow !== undefined) ? domWindow : window;\r\n        // Set to false to disable this control\r\n        _this.enabled = true;\r\n        // \"target\" sets the location of focus, where the object orbits around\r\n        _this.target = new Three.Vector3();\r\n        // How far you can dolly in and out ( PerspectiveCamera only )\r\n        _this.minDistance = 0;\r\n        _this.maxDistance = Infinity;\r\n        // How far you can zoom in and out ( OrthographicCamera only )\r\n        _this.minZoom = 0;\r\n        _this.maxZoom = Infinity;\r\n        // How far you can orbit vertically, upper and lower limits.\r\n        // Range is 0 to Math.PI radians.\r\n        _this.minPolarAngle = 0; // radians\r\n        _this.maxPolarAngle = Math.PI; // radians\r\n        // How far you can orbit horizontally, upper and lower limits.\r\n        // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n        _this.minAzimuthAngle = -Infinity; // radians\r\n        _this.maxAzimuthAngle = Infinity; // radians\r\n        // Set to true to enable damping (inertia)\r\n        // If damping is enabled, you must call controls.update() in your animation loop\r\n        _this.enableDamping = false;\r\n        _this.dampingFactor = 0.25;\r\n        // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n        // Set to false to disable zooming\r\n        _this.enableZoom = true;\r\n        _this.zoomSpeed = 1.0;\r\n        // Set to false to disable rotating\r\n        _this.enableRotate = true;\r\n        _this.rotateSpeed = 1.0;\r\n        // Set to false to disable panning\r\n        _this.enablePan = true;\r\n        _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\r\n        // Set to true to automatically rotate around the target\r\n        // If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n        _this.autoRotate = false;\r\n        _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n        // Set to false to disable use of the keys\r\n        _this.enableKeys = true;\r\n        // The four arrow keys\r\n        _this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n        // Mouse buttons\r\n        _this.mouseButtons = { ORBIT: Three.MOUSE.LEFT, ZOOM: Three.MOUSE.MIDDLE, PAN: Three.MOUSE.RIGHT };\r\n        // for reset\r\n        _this.target0 = _this.target.clone();\r\n        _this.position0 = _this.object.position.clone();\r\n        _this.zoom0 = _this.object.zoom;\r\n        // for update speedup\r\n        _this.updateOffset = new Three.Vector3();\r\n        // so camera.up is the orbit axis\r\n        _this.updateQuat = new Three.Quaternion().setFromUnitVectors(object.up, new Three.Vector3(0, 1, 0));\r\n        _this.updateQuatInverse = _this.updateQuat.clone().invert();\r\n        _this.updateLastPosition = new Three.Vector3();\r\n        _this.updateLastQuaternion = new Three.Quaternion();\r\n        _this.state = STATE.NONE;\r\n        _this.scale = 1;\r\n        // current position in spherical coordinates\r\n        _this.spherical = new Three.Spherical();\r\n        _this.sphericalDelta = new Three.Spherical();\r\n        _this.panOffset = new Three.Vector3();\r\n        _this.zoomChanged = false;\r\n        _this.rotateStart = new Three.Vector2();\r\n        _this.rotateEnd = new Three.Vector2();\r\n        _this.rotateDelta = new Three.Vector2();\r\n        _this.panStart = new Three.Vector2();\r\n        _this.panEnd = new Three.Vector2();\r\n        _this.panDelta = new Three.Vector2();\r\n        _this.dollyStart = new Three.Vector2();\r\n        _this.dollyEnd = new Three.Vector2();\r\n        _this.dollyDelta = new Three.Vector2();\r\n        _this.panLeftV = new Three.Vector3();\r\n        _this.panUpV = new Three.Vector3();\r\n        _this.panInternalOffset = new Three.Vector3();\r\n        // event handlers - FSM: listen for events and reset state\r\n        _this.onMouseDown = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            event.preventDefault();\r\n            if (event.button === _this.mouseButtons.ORBIT) {\r\n                if (_this.enableRotate === false)\r\n                    return;\r\n                _this.rotateStart.set(event.clientX, event.clientY);\r\n                _this.state = STATE.ROTATE;\r\n            }\r\n            else if (event.button === _this.mouseButtons.ZOOM) {\r\n                if (_this.enableZoom === false)\r\n                    return;\r\n                _this.dollyStart.set(event.clientX, event.clientY);\r\n                _this.state = STATE.DOLLY;\r\n            }\r\n            else if (event.button === _this.mouseButtons.PAN) {\r\n                if (_this.enablePan === false)\r\n                    return;\r\n                _this.panStart.set(event.clientX, event.clientY);\r\n                _this.state = STATE.PAN;\r\n            }\r\n            if (_this.state !== STATE.NONE) {\r\n                document.addEventListener('mousemove', _this.onMouseMove, false);\r\n                document.addEventListener('mouseup', _this.onMouseUp, false);\r\n                _this.dispatchEvent(START_EVENT);\r\n            }\r\n        };\r\n        _this.onMouseMove = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            event.preventDefault();\r\n            if (_this.state === STATE.ROTATE) {\r\n                if (_this.enableRotate === false)\r\n                    return;\r\n                _this.rotateEnd.set(event.clientX, event.clientY);\r\n                _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\r\n                var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\r\n                // rotating across whole screen goes 360 degrees around\r\n                _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\r\n                // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n                _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\r\n                _this.rotateStart.copy(_this.rotateEnd);\r\n                _this.update();\r\n            }\r\n            else if (_this.state === STATE.DOLLY) {\r\n                if (_this.enableZoom === false)\r\n                    return;\r\n                _this.dollyEnd.set(event.clientX, event.clientY);\r\n                _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\r\n                if (_this.dollyDelta.y > 0) {\r\n                    _this.dollyIn(_this.getZoomScale());\r\n                }\r\n                else if (_this.dollyDelta.y < 0) {\r\n                    _this.dollyOut(_this.getZoomScale());\r\n                }\r\n                _this.dollyStart.copy(_this.dollyEnd);\r\n                _this.update();\r\n            }\r\n            else if (_this.state === STATE.PAN) {\r\n                if (_this.enablePan === false)\r\n                    return;\r\n                _this.panEnd.set(event.clientX, event.clientY);\r\n                _this.panDelta.subVectors(_this.panEnd, _this.panStart);\r\n                _this.pan(_this.panDelta.x, _this.panDelta.y);\r\n                _this.panStart.copy(_this.panEnd);\r\n                _this.update();\r\n            }\r\n        };\r\n        _this.onMouseUp = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            document.removeEventListener('mousemove', _this.onMouseMove, false);\r\n            document.removeEventListener('mouseup', _this.onMouseUp, false);\r\n            _this.dispatchEvent(END_EVENT);\r\n            _this.state = STATE.NONE;\r\n        };\r\n        _this.onMouseWheel = function (event) {\r\n            if (_this.enabled === false || _this.enableZoom === false || (_this.state !== STATE.NONE && _this.state !== STATE.ROTATE))\r\n                return;\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if (event.deltaY < 0) {\r\n                _this.dollyOut(_this.getZoomScale());\r\n            }\r\n            else if (event.deltaY > 0) {\r\n                _this.dollyIn(_this.getZoomScale());\r\n            }\r\n            _this.update();\r\n            _this.dispatchEvent(START_EVENT); // not sure why these are here...\r\n            _this.dispatchEvent(END_EVENT);\r\n        };\r\n        _this.onKeyDown = function (event) {\r\n            if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false)\r\n                return;\r\n            switch (event.keyCode) {\r\n                case _this.keys.UP:\r\n                    {\r\n                        _this.pan(0, _this.keyPanSpeed);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                case _this.keys.BOTTOM:\r\n                    {\r\n                        _this.pan(0, -_this.keyPanSpeed);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                case _this.keys.LEFT:\r\n                    {\r\n                        _this.pan(_this.keyPanSpeed, 0);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                case _this.keys.RIGHT:\r\n                    {\r\n                        _this.pan(-_this.keyPanSpeed, 0);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n        _this.onTouchStart = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            switch (event.touches.length) {\r\n                // one-fingered touch: rotate\r\n                case 1:\r\n                    {\r\n                        if (_this.enableRotate === false)\r\n                            return;\r\n                        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n                        _this.state = STATE.TOUCH_ROTATE;\r\n                    }\r\n                    break;\r\n                // two-fingered touch: dolly\r\n                case 2:\r\n                    {\r\n                        if (_this.enableZoom === false)\r\n                            return;\r\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\r\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\r\n                        var distance = Math.sqrt(dx * dx + dy * dy);\r\n                        _this.dollyStart.set(0, distance);\r\n                        _this.state = STATE.TOUCH_DOLLY;\r\n                    }\r\n                    break;\r\n                // three-fingered touch: pan\r\n                case 3:\r\n                    {\r\n                        if (_this.enablePan === false)\r\n                            return;\r\n                        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n                        _this.state = STATE.TOUCH_PAN;\r\n                    }\r\n                    break;\r\n                default: {\r\n                    _this.state = STATE.NONE;\r\n                }\r\n            }\r\n            if (_this.state !== STATE.NONE) {\r\n                _this.dispatchEvent(START_EVENT);\r\n            }\r\n        };\r\n        _this.onTouchMove = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            switch (event.touches.length) {\r\n                // one-fingered touch: rotate\r\n                case 1:\r\n                    {\r\n                        if (_this.enableRotate === false)\r\n                            return;\r\n                        if (_this.state !== STATE.TOUCH_ROTATE)\r\n                            return; // is this needed?...\r\n                        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n                        _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\r\n                        var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\r\n                        // rotating across whole screen goes 360 degrees around\r\n                        _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\r\n                        // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n                        _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\r\n                        _this.rotateStart.copy(_this.rotateEnd);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                // two-fingered touch: dolly\r\n                case 2:\r\n                    {\r\n                        if (_this.enableZoom === false)\r\n                            return;\r\n                        if (_this.state !== STATE.TOUCH_DOLLY)\r\n                            return; // is this needed?...\r\n                        //console.log( 'handleTouchMoveDolly' );\r\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\r\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\r\n                        var distance = Math.sqrt(dx * dx + dy * dy);\r\n                        _this.dollyEnd.set(0, distance);\r\n                        _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\r\n                        if (_this.dollyDelta.y > 0) {\r\n                            _this.dollyOut(_this.getZoomScale());\r\n                        }\r\n                        else if (_this.dollyDelta.y < 0) {\r\n                            _this.dollyIn(_this.getZoomScale());\r\n                        }\r\n                        _this.dollyStart.copy(_this.dollyEnd);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                // three-fingered touch: pan\r\n                case 3:\r\n                    {\r\n                        if (_this.enablePan === false)\r\n                            return;\r\n                        if (_this.state !== STATE.TOUCH_PAN)\r\n                            return; // is this needed?...\r\n                        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n                        _this.panDelta.subVectors(_this.panEnd, _this.panStart);\r\n                        _this.pan(_this.panDelta.x, _this.panDelta.y);\r\n                        _this.panStart.copy(_this.panEnd);\r\n                        _this.update();\r\n                    }\r\n                    break;\r\n                default: {\r\n                    _this.state = STATE.NONE;\r\n                }\r\n            }\r\n        };\r\n        _this.onTouchEnd = function (event) {\r\n            if (_this.enabled === false)\r\n                return;\r\n            _this.dispatchEvent(END_EVENT);\r\n            _this.state = STATE.NONE;\r\n        };\r\n        _this.onContextMenu = function (event) {\r\n            event.preventDefault();\r\n        };\r\n        _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\r\n        _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\r\n        _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\r\n        _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\r\n        _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\r\n        _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\r\n        _this.window.addEventListener('keydown', _this.onKeyDown, false);\r\n        // force an update at start\r\n        _this.update();\r\n        return _this;\r\n    }\r\n    OrbitControls.prototype.update = function () {\r\n        var position = this.object.position;\r\n        this.updateOffset.copy(position).sub(this.target);\r\n        // rotate offset to \"y-axis-is-up\" space\r\n        this.updateOffset.applyQuaternion(this.updateQuat);\r\n        // angle from z-axis around y-axis\r\n        this.spherical.setFromVector3(this.updateOffset);\r\n        if (this.autoRotate && this.state === STATE.NONE) {\r\n            this.rotateLeft(this.getAutoRotationAngle());\r\n        }\r\n        this.spherical.theta += this.sphericalDelta.theta;\r\n        this.spherical.phi += this.sphericalDelta.phi;\r\n        // restrict theta to be between desired limits\r\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\r\n        // restrict phi to be between desired limits\r\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\r\n        this.spherical.makeSafe();\r\n        this.spherical.radius *= this.scale;\r\n        // restrict radius to be between desired limits\r\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\r\n        // move target to panned location\r\n        this.target.add(this.panOffset);\r\n        this.updateOffset.setFromSpherical(this.spherical);\r\n        // rotate offset back to \"camera-up-vector-is-up\" space\r\n        this.updateOffset.applyQuaternion(this.updateQuatInverse);\r\n        position.copy(this.target).add(this.updateOffset);\r\n        this.object.lookAt(this.target);\r\n        if (this.enableDamping === true) {\r\n            this.sphericalDelta.theta *= (1 - this.dampingFactor);\r\n            this.sphericalDelta.phi *= (1 - this.dampingFactor);\r\n        }\r\n        else {\r\n            this.sphericalDelta.set(0, 0, 0);\r\n        }\r\n        this.scale = 1;\r\n        this.panOffset.set(0, 0, 0);\r\n        // update condition is:\r\n        // min(camera displacement, camera rotation in radians)^2 > EPS\r\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n        if (this.zoomChanged ||\r\n            this.updateLastPosition.distanceToSquared(this.object.position) > EPS ||\r\n            8 * (1 - this.updateLastQuaternion.dot(this.object.quaternion)) > EPS) {\r\n            this.dispatchEvent(CHANGE_EVENT);\r\n            this.updateLastPosition.copy(this.object.position);\r\n            this.updateLastQuaternion.copy(this.object.quaternion);\r\n            this.zoomChanged = false;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    OrbitControls.prototype.panLeft = function (distance, objectMatrix) {\r\n        this.panLeftV.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\r\n        this.panLeftV.multiplyScalar(-distance);\r\n        this.panOffset.add(this.panLeftV);\r\n    };\r\n    OrbitControls.prototype.panUp = function (distance, objectMatrix) {\r\n        this.panUpV.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\r\n        this.panUpV.multiplyScalar(distance);\r\n        this.panOffset.add(this.panUpV);\r\n    };\r\n    // deltaX and deltaY are in pixels; right and down are positive\r\n    OrbitControls.prototype.pan = function (deltaX, deltaY) {\r\n        var element = this.domElement === document ? this.domElement.body : this.domElement;\r\n        if (this._checkPerspectiveCamera(this.object)) {\r\n            // perspective\r\n            var position = this.object.position;\r\n            this.panInternalOffset.copy(position).sub(this.target);\r\n            var targetDistance = this.panInternalOffset.length();\r\n            // half of the fov is center to top of screen\r\n            targetDistance *= Math.tan((this.object.fov / 2) * Math.PI / 180.0);\r\n            // we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n            this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\r\n            this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\r\n        }\r\n        else if (this._checkOrthographicCamera(this.object)) {\r\n            // orthographic\r\n            this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\r\n            this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\r\n        }\r\n        else {\r\n            // camera neither orthographic nor perspective\r\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\r\n            this.enablePan = false;\r\n        }\r\n    };\r\n    OrbitControls.prototype.dollyIn = function (dollyScale) {\r\n        if (this._checkPerspectiveCamera(this.object)) {\r\n            this.scale /= dollyScale;\r\n        }\r\n        else if (this._checkOrthographicCamera(this.object)) {\r\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\r\n            this.object.updateProjectionMatrix();\r\n            this.zoomChanged = true;\r\n        }\r\n        else {\r\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n            this.enableZoom = false;\r\n        }\r\n    };\r\n    OrbitControls.prototype.dollyOut = function (dollyScale) {\r\n        if (this._checkPerspectiveCamera(this.object)) {\r\n            this.scale *= dollyScale;\r\n        }\r\n        else if (this._checkOrthographicCamera(this.object)) {\r\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\r\n            this.object.updateProjectionMatrix();\r\n            this.zoomChanged = true;\r\n        }\r\n        else {\r\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n            this.enableZoom = false;\r\n        }\r\n    };\r\n    OrbitControls.prototype.getAutoRotationAngle = function () {\r\n        return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\r\n    };\r\n    OrbitControls.prototype.getZoomScale = function () {\r\n        return Math.pow(0.95, this.zoomSpeed);\r\n    };\r\n    OrbitControls.prototype.rotateLeft = function (angle) {\r\n        this.sphericalDelta.theta -= angle;\r\n    };\r\n    OrbitControls.prototype.rotateUp = function (angle) {\r\n        this.sphericalDelta.phi -= angle;\r\n    };\r\n    OrbitControls.prototype.getPolarAngle = function () {\r\n        return this.spherical.phi;\r\n    };\r\n    OrbitControls.prototype.getAzimuthalAngle = function () {\r\n        return this.spherical.theta;\r\n    };\r\n    OrbitControls.prototype.dispose = function () {\r\n        this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\r\n        this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\r\n        this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\r\n        this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\r\n        this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\r\n        this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\r\n        document.removeEventListener('mousemove', this.onMouseMove, false);\r\n        document.removeEventListener('mouseup', this.onMouseUp, false);\r\n        this.window.removeEventListener('keydown', this.onKeyDown, false);\r\n        //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n    };\r\n    OrbitControls.prototype.reset = function () {\r\n        this.target.copy(this.target0);\r\n        this.object.position.copy(this.position0);\r\n        this.object.zoom = this.zoom0;\r\n        this.object.updateProjectionMatrix();\r\n        this.dispatchEvent(CHANGE_EVENT);\r\n        this.update();\r\n        this.state = STATE.NONE;\r\n    };\r\n    OrbitControls.prototype.saveState = function () {\r\n        this.target0.copy(this.target);\r\n        this.position0.copy(this.object.position);\r\n        // Check whether the camera has zoom property\r\n        if (this._checkOrthographicCamera(this.object) || this._checkPerspectiveCamera(this.object)) {\r\n            this.zoom0 = this.object.zoom;\r\n        }\r\n    };\r\n    Object.defineProperty(OrbitControls.prototype, \"center\", {\r\n        // backward compatibility\r\n        get: function () {\r\n            console.warn('Three.OrbitControls: .center has been renamed to .target');\r\n            return this.target;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OrbitControls.prototype, \"noZoom\", {\r\n        get: function () {\r\n            console.warn('Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\r\n            return !this.enableZoom;\r\n        },\r\n        set: function (value) {\r\n            console.warn('Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\r\n            this.enableZoom = !value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * TS typeguard. Checks whether the provided camera is PerspectiveCamera.\r\n     * If the check passes (returns true) the passed camera will have the type Three.PerspectiveCamera in the if branch where the check was performed.\r\n     * @param camera Object to be checked.\r\n     */\r\n    OrbitControls.prototype._checkPerspectiveCamera = function (camera) {\r\n        return camera.isPerspectiveCamera;\r\n    };\r\n    /**\r\n     * TS typeguard. Checks whether the provided camera is OrthographicCamera.\r\n     * If the check passes (returns true) the passed camera will have the type Three.OrthographicCamera in the if branch where the check was performed.\r\n     * @param camera Object to be checked.\r\n     */\r\n    OrbitControls.prototype._checkOrthographicCamera = function (camera) {\r\n        return camera.isOrthographicCamera;\r\n    };\r\n    return OrbitControls;\r\n}(Three.EventDispatcher));\r\nexports.OrbitControls = OrbitControls;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}